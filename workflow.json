{
  "last_node_id": 355,
  "last_link_id": 375,
  "nodes": [
    {
      "id": 165,
      "type": "CR Integer To String",
      "pos": [
        -760,
        3010
      ],
      "size": {
        "0": 315,
        "1": 78
      },
      "flags": {},
      "order": 13,
      "mode": 4,
      "inputs": [
        {
          "name": "int_",
          "type": "INT",
          "link": 175,
          "widget": {
            "name": "int_"
          },
          "label": "整数"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            170
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "字符串"
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "shape": 3,
          "label": "show_help"
        }
      ],
      "properties": {
        "Node name for S&R": "CR Integer To String"
      },
      "widgets_values": [
        0
      ]
    },
    {
      "id": 166,
      "type": "ShowText|pysssss",
      "pos": [
        -400,
        2930
      ],
      "size": {
        "0": 315,
        "1": 76.00011444091797
      },
      "flags": {},
      "order": 19,
      "mode": 4,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 170,
          "widget": {
            "name": "text"
          },
          "label": "文本"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": null,
          "shape": 6,
          "label": "字符串"
        }
      ],
      "properties": {
        "Node name for S&R": "ShowText|pysssss"
      },
      "widgets_values": [
        "",
        "33"
      ]
    },
    {
      "id": 145,
      "type": "MakeJob",
      "pos": [
        -407,
        2281
      ],
      "size": {
        "0": 315,
        "1": 78
      },
      "flags": {},
      "order": 18,
      "mode": 4,
      "inputs": [
        {
          "name": "sequence",
          "type": "SEQUENCE",
          "link": 146,
          "label": "sequence"
        }
      ],
      "outputs": [
        {
          "name": "job",
          "type": "JOB",
          "links": [
            252
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "job"
        },
        {
          "name": "count",
          "type": "INT",
          "links": [
            147
          ],
          "slot_index": 1,
          "shape": 3,
          "label": "count"
        }
      ],
      "properties": {
        "Node name for S&R": "MakeJob"
      },
      "widgets_values": [
        "sel"
      ]
    },
    {
      "id": 138,
      "type": "Range",
      "pos": [
        -1075,
        2540
      ],
      "size": {
        "0": 315,
        "1": 106
      },
      "flags": {},
      "order": 12,
      "mode": 4,
      "inputs": [
        {
          "name": "stop",
          "type": "INT",
          "link": 174,
          "slot_index": 0,
          "widget": {
            "name": "stop"
          },
          "label": "stop"
        }
      ],
      "outputs": [
        {
          "name": "sequence",
          "type": "SEQUENCE",
          "links": [
            146
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "sequence"
        }
      ],
      "properties": {
        "Node name for S&R": "Range"
      },
      "widgets_values": [
        0,
        10,
        1
      ]
    },
    {
      "id": 147,
      "type": "ShowText|pysssss",
      "pos": [
        61,
        2700
      ],
      "size": {
        "0": 315,
        "1": 76
      },
      "flags": {},
      "order": 25,
      "mode": 4,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 148,
          "widget": {
            "name": "text"
          },
          "label": "文本"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": null,
          "shape": 6,
          "label": "字符串"
        }
      ],
      "properties": {
        "Node name for S&R": "ShowText|pysssss"
      },
      "widgets_values": [
        "",
        "33"
      ]
    },
    {
      "id": 146,
      "type": "CR Integer To String",
      "pos": [
        -329,
        2700
      ],
      "size": {
        "0": 315,
        "1": 78
      },
      "flags": {},
      "order": 23,
      "mode": 4,
      "inputs": [
        {
          "name": "int_",
          "type": "INT",
          "link": 147,
          "widget": {
            "name": "int_"
          },
          "label": "整数"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            148
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "字符串"
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "shape": 3,
          "label": "show_help"
        }
      ],
      "properties": {
        "Node name for S&R": "CR Integer To String"
      },
      "widgets_values": [
        0
      ]
    },
    {
      "id": 244,
      "type": "GetAttributeInt",
      "pos": [
        502,
        2393
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 24,
      "mode": 4,
      "inputs": [
        {
          "name": "attributes",
          "type": "ATTRIBUTES",
          "link": 253,
          "label": "attributes"
        }
      ],
      "outputs": [
        {
          "name": "value",
          "type": "INT",
          "links": [
            246,
            247,
            254
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "value"
        }
      ],
      "properties": {
        "Node name for S&R": "GetAttributeInt"
      },
      "widgets_values": [
        "sel"
      ]
    },
    {
      "id": 252,
      "type": "CR Integer To String",
      "pos": [
        975,
        2483
      ],
      "size": {
        "0": 315,
        "1": 78
      },
      "flags": {},
      "order": 28,
      "mode": 4,
      "inputs": [
        {
          "name": "int_",
          "type": "INT",
          "link": 254,
          "widget": {
            "name": "int_"
          },
          "label": "整数"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            255
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "字符串"
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "shape": 3,
          "label": "show_help"
        }
      ],
      "properties": {
        "Node name for S&R": "CR Integer To String"
      },
      "widgets_values": [
        0
      ]
    },
    {
      "id": 193,
      "type": "ShowText|pysssss",
      "pos": [
        990,
        3726
      ],
      "size": {
        "0": 315,
        "1": 3276
      },
      "flags": {},
      "order": 33,
      "mode": 4,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 183,
          "widget": {
            "name": "text"
          },
          "label": "文本"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": null,
          "shape": 6,
          "label": "字符串"
        }
      ],
      "properties": {
        "Node name for S&R": "ShowText|pysssss"
      },
      "widgets_values": [
        "",
        "00001",
        " 00010",
        " 00020",
        " 00030",
        " 00040",
        " 00050",
        " 00060",
        " 00070",
        " 00080",
        " 00090",
        " 00100",
        " 00110",
        " 00120",
        " 00130",
        " 00140",
        " 00150",
        " 00160",
        " 00170",
        " 00180",
        " 00190",
        " 00200",
        " 00210",
        " 00220",
        " 00230",
        " 00240",
        " 00250",
        " 00260",
        " 00270",
        " 00280",
        " 00290",
        " 00300",
        " 00310",
        " 00312"
      ]
    },
    {
      "id": 265,
      "type": "ControlNetApply",
      "pos": [
        3918,
        2933
      ],
      "size": {
        "0": 317.4000244140625,
        "1": 98
      },
      "flags": {},
      "order": 39,
      "mode": 4,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 268,
          "label": "条件"
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 270,
          "label": "ControlNet"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 271,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            269
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "条件"
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetApply"
      },
      "widgets_values": [
        1
      ]
    },
    {
      "id": 264,
      "type": "ControlNetApply",
      "pos": [
        2730,
        3418
      ],
      "size": {
        "0": 317.4000244140625,
        "1": 98
      },
      "flags": {},
      "order": 37,
      "mode": 4,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 264,
          "label": "条件"
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 265,
          "label": "ControlNet"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 266,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            268
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "条件"
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetApply"
      },
      "widgets_values": [
        1
      ]
    },
    {
      "id": 229,
      "type": "CannyEdgePreprocessor",
      "pos": [
        2033,
        3869
      ],
      "size": {
        "0": 315,
        "1": 106
      },
      "flags": {},
      "order": 31,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 219,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            221,
            266
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "CannyEdgePreprocessor"
      },
      "widgets_values": [
        100,
        200,
        512
      ]
    },
    {
      "id": 35,
      "type": "VAEEncode",
      "pos": [
        2120,
        3360
      ],
      "size": {
        "0": 210,
        "1": 46
      },
      "flags": {},
      "order": 30,
      "mode": 4,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 160,
          "slot_index": 0,
          "label": "图像"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 39,
          "label": "VAE"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            337
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "Latent"
        }
      ],
      "properties": {
        "Node name for S&R": "VAEEncode"
      }
    },
    {
      "id": 327,
      "type": "SetLatentNoiseMask",
      "pos": [
        2239,
        3494
      ],
      "size": {
        "0": 210,
        "1": 46
      },
      "flags": {},
      "order": 35,
      "mode": 4,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 337,
          "label": "Latent"
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 374,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            336
          ],
          "label": "Latent"
        }
      ],
      "properties": {
        "Node name for S&R": "SetLatentNoiseMask"
      }
    },
    {
      "id": 150,
      "type": "PreviewImage",
      "pos": [
        928,
        3258
      ],
      "size": {
        "0": 210,
        "1": 246
      },
      "flags": {},
      "order": 29,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 154,
          "label": "图像"
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 38,
      "type": "VAELoader",
      "pos": [
        3020,
        3604
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 0,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            38,
            39,
            354
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "VAE"
        }
      ],
      "properties": {
        "Node name for S&R": "VAELoader"
      },
      "widgets_values": [
        "vae-ft-mse-840000-ema-pruned.safetensors"
      ]
    },
    {
      "id": 32,
      "type": "CLIPTextEncode",
      "pos": [
        2140,
        2700
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "flags": {},
      "order": 9,
      "mode": 4,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 29,
          "label": "CLIP"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            264,
            355
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "条件"
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "(masterpiece, best quality),",
        true
      ]
    },
    {
      "id": 33,
      "type": "CLIPTextEncode",
      "pos": [
        1929,
        3005
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "flags": {},
      "order": 10,
      "mode": 4,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 30,
          "label": "CLIP"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            33,
            356
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "条件"
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        " embedding:EasyNegative, ",
        true
      ]
    },
    {
      "id": 340,
      "type": "UltimateSDUpscaleNoUpscale",
      "pos": {
        "0": 4391,
        "1": 3174
      },
      "size": {
        "0": 315,
        "1": 782
      },
      "flags": {},
      "order": 57,
      "mode": 4,
      "inputs": [
        {
          "name": "upscaled_image",
          "type": "IMAGE",
          "link": 353,
          "label": "放大图像"
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 357,
          "label": "模型"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 355,
          "label": "正面条件"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 356,
          "label": "负面条件"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 354,
          "label": "VAE"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            358,
            359
          ],
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "UltimateSDUpscaleNoUpscale"
      },
      "widgets_values": [
        463066447546162,
        "fixed",
        20,
        8,
        "euler",
        "normal",
        0.2,
        "Linear",
        512,
        512,
        8,
        32,
        "None",
        1,
        64,
        8,
        16,
        true,
        false
      ]
    },
    {
      "id": 249,
      "type": "JobToList",
      "pos": [
        101,
        2176
      ],
      "size": {
        "0": 210,
        "1": 26
      },
      "flags": {},
      "order": 22,
      "mode": 4,
      "inputs": [
        {
          "name": "job",
          "type": "JOB",
          "link": 252,
          "label": "job"
        }
      ],
      "outputs": [
        {
          "name": "attributes",
          "type": "ATTRIBUTES",
          "links": [
            253
          ],
          "slot_index": 0,
          "shape": 6,
          "label": "attributes"
        }
      ],
      "properties": {
        "Node name for S&R": "JobToList"
      }
    },
    {
      "id": 213,
      "type": "PreviewImage",
      "pos": [
        2614,
        3927
      ],
      "size": {
        "0": 210,
        "1": 246
      },
      "flags": {},
      "order": 36,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 221,
          "label": "图像"
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 189,
      "type": "ShowText|pysssss",
      "pos": [
        -1380,
        3285
      ],
      "size": {
        "0": 333.0017395019531,
        "1": 151.35093688964844
      },
      "flags": {},
      "order": 14,
      "mode": 4,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 179,
          "widget": {
            "name": "text"
          },
          "label": "文本"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": null,
          "slot_index": 0,
          "shape": 6,
          "label": "字符串"
        }
      ],
      "properties": {
        "Node name for S&R": "ShowText|pysssss"
      },
      "widgets_values": [
        "",
        "00001, 00010, 00020, 00030, 00040, 00050, 00060, 00070, 00080, 00090, 00100, 00110, 00120, 00130, 00140, 00150, 00160, 00170, 00180, 00190, 00200, 00210, 00220, 00230, 00240, 00250, 00260, 00270, 00280, 00290, 00300, 00310, 00312"
      ]
    },
    {
      "id": 341,
      "type": "PreviewImage",
      "pos": [
        5711,
        2869
      ],
      "size": {
        "0": 499.1826477050781,
        "1": 896.9525756835938
      },
      "flags": {},
      "order": 46,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 358,
          "label": "图像"
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 97,
      "type": "PreviewImage",
      "pos": [
        5227,
        2870
      ],
      "size": {
        "0": 474.6858215332031,
        "1": 888.4932250976562
      },
      "flags": {},
      "order": 43,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 104,
          "label": "图像"
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 37,
      "type": "VAEDecode",
      "pos": [
        3130,
        3250
      ],
      "size": {
        "0": 210,
        "1": 46
      },
      "flags": {},
      "order": 42,
      "mode": 4,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 37,
          "label": "Latent"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 38,
          "slot_index": 1,
          "label": "VAE"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            104,
            353,
            361
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      }
    },
    {
      "id": 344,
      "type": "Note",
      "pos": [
        -3690,
        5950
      ],
      "size": {
        "0": 210,
        "1": 145.82778930664062
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "stage_index\n0 抽帧 扣蒙版\n1 提取关键帧\n下面工作流进行图生图,注意文件名\n输入文件名是video_key,输出是img2img_key  img2img_upscale_key\n5 生成.ebs文件\n7 合成视频文件"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 112,
      "type": "SelectImageBatch",
      "pos": [
        240,
        3166
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 26,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 262,
          "label": "images"
        },
        {
          "name": "select",
          "type": "INT",
          "link": 246,
          "slot_index": 1,
          "widget": {
            "name": "select"
          },
          "label": "select"
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            154,
            160,
            219,
            271,
            348
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "image"
        }
      ],
      "properties": {
        "Node name for S&R": "SelectImageBatch"
      },
      "widgets_values": [
        1
      ]
    },
    {
      "id": 192,
      "type": "SelectImageName",
      "pos": [
        447,
        3548
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {},
      "order": 27,
      "mode": 4,
      "inputs": [
        {
          "name": "imagelist",
          "type": "STRING",
          "link": 182,
          "widget": {
            "name": "imagelist"
          },
          "label": "imagelist"
        },
        {
          "name": "selected_image_index",
          "type": "INT",
          "link": 247,
          "widget": {
            "name": "selected_image_index"
          },
          "label": "selected_image_index"
        }
      ],
      "outputs": [
        {
          "name": "image_name",
          "type": "STRING",
          "links": [
            183,
            185,
            360
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "image_name"
        }
      ],
      "properties": {
        "Node name for S&R": "SelectImageName"
      },
      "widgets_values": [
        "",
        1
      ]
    },
    {
      "id": 337,
      "type": "UltralyticsDetectorProvider",
      "pos": {
        "0": -909,
        "1": 4491
      },
      "size": {
        "0": 315,
        "1": 78
      },
      "flags": {},
      "order": 7,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": null,
          "slot_index": 0,
          "label": "BBox检测"
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": [
            349
          ],
          "label": "SEGM检测"
        }
      ],
      "properties": {
        "Node name for S&R": "UltralyticsDetectorProvider"
      },
      "widgets_values": [
        "segm/person_yolov8m-seg.pt"
      ]
    },
    {
      "id": 336,
      "type": "SegmDetectorSEGS",
      "pos": {
        "0": -466,
        "1": 4531
      },
      "size": {
        "0": 400,
        "1": 217
      },
      "flags": {},
      "order": 45,
      "mode": 4,
      "inputs": [
        {
          "name": "segm_detector",
          "type": "SEGM_DETECTOR",
          "link": 349,
          "label": "Segm检测"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 348,
          "label": "图像"
        },
        {
          "name": "detailer_hook",
          "type": "DETAILER_HOOK",
          "link": null,
          "shape": 7
        }
      ],
      "outputs": [
        {
          "name": "SEGS",
          "type": "SEGS",
          "links": [
            350
          ],
          "slot_index": 0,
          "label": "Seg"
        }
      ],
      "properties": {
        "Node name for S&R": "SegmDetectorSEGS"
      },
      "widgets_values": [
        0.1,
        10,
        3,
        10,
        "all",
        true
      ]
    },
    {
      "id": 352,
      "type": "PreviewImage",
      "pos": [
        679,
        3724
      ],
      "size": {
        "0": 179.36534118652344,
        "1": 355.2434387207031
      },
      "flags": {},
      "order": 16,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 367,
          "label": "图像"
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 214,
      "type": "ControlNetLoader",
      "pos": [
        3612,
        2823
      ],
      "size": {
        "0": 239.520263671875,
        "1": 58
      },
      "flags": {},
      "order": 3,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            270
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "ControlNet"
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "control_v11f1e_sd15_tile_fp16.safetensors"
      ]
    },
    {
      "id": 253,
      "type": "ShowText|pysssss",
      "pos": [
        1400,
        2773
      ],
      "size": {
        "0": 315,
        "1": 3276
      },
      "flags": {},
      "order": 34,
      "mode": 4,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 255,
          "widget": {
            "name": "text"
          },
          "label": "文本"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": null,
          "shape": 6,
          "label": "字符串"
        }
      ],
      "properties": {
        "Node name for S&R": "ShowText|pysssss"
      },
      "widgets_values": [
        "",
        "0",
        "1",
        "2",
        "3",
        "4",
        "5",
        "6",
        "7",
        "8",
        "9",
        "10",
        "11",
        "12",
        "13",
        "14",
        "15",
        "16",
        "17",
        "18",
        "19",
        "20",
        "21",
        "22",
        "23",
        "24",
        "25",
        "26",
        "27",
        "28",
        "29",
        "30",
        "31",
        "32"
      ]
    },
    {
      "id": 354,
      "type": "MaskPreview+",
      "pos": {
        "0": 405,
        "1": 4343
      },
      "size": [
        210,
        246
      ],
      "flags": {},
      "order": 33,
      "mode": 4,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 370,
          "label": "遮罩"
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "MaskPreview+"
      }
    },
    {
      "id": 339,
      "type": "MaskPreview+",
      "pos": {
        "0": 102,
        "1": 4607
      },
      "size": {
        "0": 210,
        "1": 246
      },
      "flags": {},
      "order": 53,
      "mode": 4,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 351,
          "label": "遮罩"
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "MaskPreview+"
      },
      "widgets_values": []
    },
    {
      "id": 338,
      "type": "SegsToCombinedMask",
      "pos": {
        "0": 24,
        "1": 4436
      },
      "size": {
        "0": 210,
        "1": 26
      },
      "flags": {},
      "order": 51,
      "mode": 4,
      "inputs": [
        {
          "name": "segs",
          "type": "SEGS",
          "link": 350,
          "label": "Seg"
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            351
          ],
          "slot_index": 0,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "SegsToCombinedMask"
      },
      "widgets_values": []
    },
    {
      "id": 351,
      "type": "ImageToMask",
      "pos": [
        231,
        4081
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 15,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 365,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            370,
            374
          ],
          "label": "遮罩",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageToMask"
      },
      "widgets_values": [
        "red"
      ]
    },
    {
      "id": 194,
      "type": "SaveImageExtended",
      "pos": [
        3629,
        3709
      ],
      "size": {
        "0": 315,
        "1": 314
      },
      "flags": {},
      "order": 47,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 359,
          "slot_index": 0,
          "label": "images"
        },
        {
          "name": "filename",
          "type": "STRING",
          "link": 185,
          "slot_index": 1,
          "widget": {
            "name": "filename"
          },
          "label": "filename"
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "SaveImageExtended"
      },
      "widgets_values": [
        "C:\\Users\\56381\\Desktop\\1111\\img2img_upscale_key",
        "ComfyUI",
        "PNG"
      ]
    },
    {
      "id": 343,
      "type": "SaveImageExtended",
      "pos": [
        4053,
        3816
      ],
      "size": {
        "0": 315,
        "1": 314
      },
      "flags": {},
      "order": 45,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 361,
          "slot_index": 0,
          "label": "images"
        },
        {
          "name": "filename",
          "type": "STRING",
          "link": 360,
          "slot_index": 1,
          "widget": {
            "name": "filename"
          },
          "label": "filename"
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "SaveImageExtended"
      },
      "widgets_values": [
        "C:\\Users\\56381\\Desktop\\1111\\img2img_key",
        "ComfyUI",
        "PNG"
      ]
    },
    {
      "id": 34,
      "type": "KSampler",
      "pos": [
        2821,
        2615
      ],
      "size": {
        "0": 315,
        "1": 474
      },
      "flags": {},
      "order": 41,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 32,
          "label": "模型"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 269,
          "label": "正面条件"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 33,
          "slot_index": 2,
          "label": "负面条件"
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 336,
          "slot_index": 3,
          "label": "Latent"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            37
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "Latent"
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        807314020244115,
        "fixed",
        20,
        7.8,
        "dpmpp_2m",
        "karras",
        0.7000000000000001
      ]
    },
    {
      "id": 49,
      "type": "ControlNetLoader",
      "pos": [
        2585,
        3252
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 4,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            265
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "ControlNet"
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "control_v11p_sd15_lineart_fp16.safetensors"
      ]
    },
    {
      "id": 30,
      "type": "CheckpointLoaderSimple",
      "pos": [
        1699,
        2558
      ],
      "size": {
        "0": 315,
        "1": 98
      },
      "flags": {},
      "order": 5,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            32,
            357
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "模型"
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            29,
            30
          ],
          "slot_index": 1,
          "shape": 3,
          "label": "CLIP"
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [],
          "slot_index": 2,
          "shape": 3,
          "label": "VAE"
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "sd大模型\\majicMIX realistic 麦橘写实_v7.safetensors"
      ]
    },
    {
      "id": 190,
      "type": "PreviewImage",
      "pos": [
        4780,
        2954
      ],
      "size": {
        "0": 428.24163818359375,
        "1": 800.8460083007812
      },
      "flags": {},
      "order": 11,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 180,
          "label": "图像"
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 185,
      "type": "LoadImagesFromDirectoryPath",
      "pos": [
        -2186,
        2777
      ],
      "size": {
        "0": 315,
        "1": 190
      },
      "flags": {},
      "order": 6,
      "mode": 4,
      "inputs": [
        {
          "name": "meta_batch",
          "type": "VHS_BatchManager",
          "link": null,
          "label": "meta_batch",
          "shape": 7
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            180,
            262
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "IMAGE"
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "MASK"
        },
        {
          "name": "frame_count",
          "type": "INT",
          "links": [
            174,
            175
          ],
          "slot_index": 2,
          "shape": 3,
          "label": "frame_count"
        },
        {
          "name": "image_list",
          "type": "STRING",
          "links": [
            179,
            182
          ],
          "slot_index": 3,
          "shape": 3,
          "label": "image_list"
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImagesFromDirectoryPath"
      },
      "widgets_values": [
        "C:\\Users\\56381\\Desktop\\1111\\video_key",
        33,
        0,
        1
      ]
    },
    {
      "id": 350,
      "type": "LoadImageListFromDir //Inspire",
      "pos": {
        "0": -64,
        "1": 3847
      },
      "size": {
        "0": 315,
        "1": 170
      },
      "flags": {},
      "order": 12,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            365,
            367
          ],
          "shape": 6,
          "label": "图像",
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 6,
          "label": "遮罩"
        },
        {
          "name": "FILE PATH",
          "type": "STRING",
          "links": null,
          "shape": 6
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImageListFromDir //Inspire"
      },
      "widgets_values": [
        "C:\\Users\\56381\\Desktop\\1111\\key_masks",
        33,
        0,
        false
      ]
    },
    {
      "id": 258,
      "type": "ShowText|pysssss",
      "pos": [
        -2330,
        6220
      ],
      "size": {
        "0": 380.7752685546875,
        "1": 482.80523681640625
      },
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 363,
          "widget": {
            "name": "text"
          },
          "label": "文本"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": null,
          "shape": 6,
          "label": "字符串"
        }
      ],
      "properties": {
        "Node name for S&R": "ShowText|pysssss"
      },
      "widgets_values": [
        "",
        "self : <comfyui-imgmake.main.ebsynth_main object at 0x000002708CBF2620>\nstage_index : 5\nproject_dir : C:\\Users\\56381\\Desktop\\1111\noriginal_movie_path : C:\\Users\\56381\\Desktop\\1111.mp4\nframe_width : -1\nframe_height : -1\nst1_masking_method_index : 0\nst1_mask_threshold : 0.1\ntb_use_fast_mode : False\ntb_use_jit : False\nclipseg_mask_prompt : \nclipseg_exclude_prompt : \nclipseg_mask_threshold : 0\nclipseg_mask_blur_size : 11\nclipseg_mask_blur_size2 : 11\nkey_min_gap : 10\nkey_max_gap : 300\nkey_th : 8.5\nkey_add_last_frame : True\ncolor_matcher_method : hm-mvgd-hm\nst3_5_use_mask : True\nst3_5_use_mask_ref : False\nst3_5_use_mask_org : False\ncolor_matcher_ref_type : 0\ncolor_matcher_ref_image : tensor([[[[0., 0., 0.],\n          [0., 0., 0.],\n          [0., 0., 0.],\n          ...,\n          [0., 0., 0.],\n          [0., 0., 0.],\n          [0., 0., 0.]],\n\n         [[0., 0., 0.],\n          [0., 0., 0.],\n          [0., 0., 0.],\n          ...,\n          [0., 0., 0.],\n          [0., 0., 0.],\n          [0., 0., 0.]],\n\n         [[0., 0., 0.],\n          [0., 0., 0.],\n          [0., 0., 0.],\n          ...,\n          [0., 0., 0.],\n          [0., 0., 0.],\n          [0., 0., 0.]],\n\n         ...,\n\n         [[0., 0., 0.],\n          [0., 0., 0.],\n          [0., 0., 0.],\n          ...,\n          [0., 0., 0.],\n          [0., 0., 0.],\n          [0., 0., 0.]],\n\n         [[0., 0., 0.],\n          [0., 0., 0.],\n          [0., 0., 0.],\n          ...,\n          [0., 0., 0.],\n          [0., 0., 0.],\n          [0., 0., 0.]],\n\n         [[0., 0., 0.],\n          [0., 0., 0.],\n          [0., 0., 0.],\n          ...,\n          [0., 0., 0.],\n          [0., 0., 0.],\n          [0., 0., 0.]]]])\nblend_rate : 1.0\nexport_type : mp4\nmask_mode : Normal\nis_invert_mask : False\ndevices : cuda:0\nSYNTHS_PER_PROJECT : 15\n"
      ]
    },
    {
      "id": 263,
      "type": "LoadImage",
      "pos": [
        -3820,
        6210
      ],
      "size": {
        "0": 315,
        "1": 314
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            362
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "图像"
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "00001 (2).png",
        "image"
      ]
    },
    {
      "id": 345,
      "type": "ebsynth_main",
      "pos": [
        -3090,
        5860
      ],
      "size": {
        "0": 367.79998779296875,
        "1": 750
      },
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "color_matcher_ref_image",
          "type": "IMAGE",
          "link": 362,
          "label": "color_matcher_ref_image"
        }
      ],
      "outputs": [
        {
          "name": "debug",
          "type": "STRING",
          "links": null,
          "label": "debug"
        },
        {
          "name": "info",
          "type": "STRING",
          "links": [
            363
          ],
          "slot_index": 1,
          "label": "info"
        }
      ],
      "properties": {
        "Node name for S&R": "ebsynth_main"
      },
      "widgets_values": [
        5,
        "C:\\Users\\56381\\Desktop\\1111",
        "C:\\Users\\56381\\Desktop\\1111.mp4",
        -1,
        -1,
        0,
        0.1,
        false,
        false,
        "",
        "",
        0.01,
        11,
        11,
        10,
        300,
        8.5,
        true,
        "hm-mvgd-hm",
        true,
        false,
        false,
        0,
        1,
        "mp4",
        "Normal",
        false,
        "cuda:0",
        15
      ]
    }
  ],
  "links": [
    [
      29,
      30,
      1,
      32,
      0,
      "CLIP"
    ],
    [
      30,
      30,
      1,
      33,
      0,
      "CLIP"
    ],
    [
      32,
      30,
      0,
      34,
      0,
      "MODEL"
    ],
    [
      33,
      33,
      0,
      34,
      2,
      "CONDITIONING"
    ],
    [
      37,
      34,
      0,
      37,
      0,
      "LATENT"
    ],
    [
      38,
      38,
      0,
      37,
      1,
      "VAE"
    ],
    [
      39,
      38,
      0,
      35,
      1,
      "VAE"
    ],
    [
      104,
      37,
      0,
      97,
      0,
      "IMAGE"
    ],
    [
      146,
      138,
      0,
      145,
      0,
      "SEQUENCE"
    ],
    [
      147,
      145,
      1,
      146,
      0,
      "INT"
    ],
    [
      148,
      146,
      0,
      147,
      0,
      "STRING"
    ],
    [
      154,
      112,
      0,
      150,
      0,
      "IMAGE"
    ],
    [
      160,
      112,
      0,
      35,
      0,
      "IMAGE"
    ],
    [
      170,
      165,
      0,
      166,
      0,
      "STRING"
    ],
    [
      174,
      185,
      2,
      138,
      0,
      "INT"
    ],
    [
      175,
      185,
      2,
      165,
      0,
      "INT"
    ],
    [
      179,
      185,
      3,
      189,
      0,
      "STRING"
    ],
    [
      180,
      185,
      0,
      190,
      0,
      "IMAGE"
    ],
    [
      182,
      185,
      3,
      192,
      0,
      "STRING"
    ],
    [
      183,
      192,
      0,
      193,
      0,
      "STRING"
    ],
    [
      185,
      192,
      0,
      194,
      1,
      "STRING"
    ],
    [
      219,
      112,
      0,
      229,
      0,
      "IMAGE"
    ],
    [
      221,
      229,
      0,
      213,
      0,
      "IMAGE"
    ],
    [
      246,
      244,
      0,
      112,
      1,
      "INT"
    ],
    [
      247,
      244,
      0,
      192,
      1,
      "INT"
    ],
    [
      252,
      145,
      0,
      249,
      0,
      "JOB"
    ],
    [
      253,
      249,
      0,
      244,
      0,
      "ATTRIBUTES"
    ],
    [
      254,
      244,
      0,
      252,
      0,
      "INT"
    ],
    [
      255,
      252,
      0,
      253,
      0,
      "STRING"
    ],
    [
      262,
      185,
      0,
      112,
      0,
      "IMAGE"
    ],
    [
      264,
      32,
      0,
      264,
      0,
      "CONDITIONING"
    ],
    [
      265,
      49,
      0,
      264,
      1,
      "CONTROL_NET"
    ],
    [
      266,
      229,
      0,
      264,
      2,
      "IMAGE"
    ],
    [
      268,
      264,
      0,
      265,
      0,
      "CONDITIONING"
    ],
    [
      269,
      265,
      0,
      34,
      1,
      "CONDITIONING"
    ],
    [
      270,
      214,
      0,
      265,
      1,
      "CONTROL_NET"
    ],
    [
      271,
      112,
      0,
      265,
      2,
      "IMAGE"
    ],
    [
      336,
      327,
      0,
      34,
      3,
      "LATENT"
    ],
    [
      337,
      35,
      0,
      327,
      0,
      "LATENT"
    ],
    [
      348,
      112,
      0,
      336,
      1,
      "IMAGE"
    ],
    [
      349,
      337,
      1,
      336,
      0,
      "SEGM_DETECTOR"
    ],
    [
      350,
      336,
      0,
      338,
      0,
      "SEGS"
    ],
    [
      351,
      338,
      0,
      339,
      0,
      "MASK"
    ],
    [
      353,
      37,
      0,
      340,
      0,
      "IMAGE"
    ],
    [
      354,
      38,
      0,
      340,
      4,
      "VAE"
    ],
    [
      355,
      32,
      0,
      340,
      2,
      "CONDITIONING"
    ],
    [
      356,
      33,
      0,
      340,
      3,
      "CONDITIONING"
    ],
    [
      357,
      30,
      0,
      340,
      1,
      "MODEL"
    ],
    [
      358,
      340,
      0,
      341,
      0,
      "IMAGE"
    ],
    [
      359,
      340,
      0,
      194,
      0,
      "IMAGE"
    ],
    [
      360,
      192,
      0,
      343,
      1,
      "STRING"
    ],
    [
      361,
      37,
      0,
      343,
      0,
      "IMAGE"
    ],
    [
      362,
      263,
      0,
      345,
      0,
      "IMAGE"
    ],
    [
      363,
      345,
      1,
      258,
      0,
      "STRING"
    ],
    [
      365,
      350,
      0,
      351,
      0,
      "IMAGE"
    ],
    [
      367,
      350,
      0,
      352,
      0,
      "IMAGE"
    ],
    [
      370,
      351,
      0,
      354,
      0,
      "MASK"
    ],
    [
      374,
      351,
      0,
      327,
      1,
      "MASK"
    ]
  ],
  "groups": [],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.1,
      "offset": [
        8658.498145798088,
        -468.6704889002608
      ]
    }
  },
  "version": 0.4
}